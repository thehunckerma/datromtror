<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
   <head>
      <meta charset = "utf8" />
      <!-- CSS -->
      <link th:rel="stylesheet" th:href="@{/webjars/bootstrap/4.0.0-2/css/bootstrap.min.css} "/>
      <link rel="stylesheet" href="/css/styles.css" >
      <!-- jQuery and JS bundle w/ Popper.js -->
      <script th:src="@{/webjars/jquery/3.0.0/jquery.min.js}"></script>
      <script th:src="@{/webjars/popper.js/1.12.9-1/umd/popper.min.js}"></script>
      <script th:src="@{/webjars/bootstrap/4.0.0-2/js/bootstrap.min.js}"></script>
      <script src="/js/script.js"></script>
      <title>Spring Boot Application</title>
   </head>
   <body onload='last()'>
      <ul class="nav nav-fill">
         <li onclick="homeDiv()" class="nav-item">
            <p id="homeNav" class="nav-link active">Home</p>
         </li>
         <li onclick="showDiv()" class="nav-item ">
            <p id="showNav" class="nav-link">Show</p>
         </li>
         <li onclick="addDiv()" class="nav-item ">
            <p id="addNav" class="nav-link">Add</p>
         </li>
         <li onclick="updateDiv()" class="nav-item ">
            <p id="updateNav" class="nav-link">Update</p>
         </li>
         <li onclick="deleteDiv()" class="nav-item ">
            <p id="deleteNav" class="nav-link">delete</p>
         </li>
      </ul>
      <input type="hidden" id="tab" th:value="${tab}" />
      <!-- Body -->
      <div id='body'>

         <!-- Home section -->
         <div id="home">
            <div class="row p-3 text-center">
               <div class="col-1">ID</div>
               <div class="col-2">Firstname</div>
               <div class="col-2">Lastname</div>
               <div class="col-5">Email</div>
               <div class="col-2">Phone</div>
            </div>
            <div class="row p-3 text-center" th:each="user: ${users}">
               <div class="col-1" th:text="${user.id}"></div>
               <div class="col-2" th:text="${user.firstName}"></div>
               <div class="col-2" th:text="${user.lastName}"></div>
               <div class="col-5" th:text="${user.email}"></div>
               <div class="col-2" th:text="${user.phone}"></div>   
            </div>
         </div>

         <!-- Listing section -->
         <div id="show" class="container-fluid mt-4">
            <diV>
               <form id="showForm" class="form-inline" method=POST>
                  <div class="input-group">
                     <div class="input-group-prepend">
                        <span class="input-group-text" id="basic-addon1">@</span>
                     </div>
                     <input id="showID" oninput='showId()' type="text" class="form-control" name="id" placeholder="ID" aria-label="ID" aria-describedby="basic-addon1">
                  </div>
                  <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                  <button class="btn btn-primary mb-0 search">Search</button>
               </form>
            </diV>
            <div>
               <div class="row p-3 text-center">
                  <div class="col-1">ID</div>
                  <div class="col-2">Firstname</div>
                  <div class="col-2">Lastname</div>
                  <div class="col-5">Email</div>
                  <div class="col-2">Phone</div>
               </div>
               <div class="row p-3 text-center" th:if="${showUser!=null}">
                  <div class="col-1" th:text="${showUser.id}"></div>
                  <div class="col-2" th:text="${showUser.firstName}"></div>
                  <div class="col-2" th:text="${showUser.lastName}"></div>
                  <div class="col-5" th:text="${showUser.email}"></div>
                  <div class="col-2" th:text="${showUser.phone}"></div>   
               </div>
            </div>
         </div>

         <!-- Adding Form section -->
         <div id="add" class="container-fluid mt-4">
            <div>
               <form id="addform" class='col-lg-12 flex-wrap d-flex p-2' method="post" action="/abdennour/add">
                  <div class="form-inline col-lg-6 px-3 py-1 justify-content-between">
                     <label for="firstName" >First name: </label>
                     <input type="text" name='firstName' class="form-control col-lg-9" placeholder="First name">
                  </div>
                  <div class="form-inline col-lg-6 px-3 py-1 justify-content-between">
                     <label for="lastName" >Last name: </label>
                     <input type="text" name="lastName" class="form-control col-lg-9" placeholder="Last name">
                  </div>
                  <div class="form-inline col-lg-6 px-3 py-1 justify-content-between">
                     <label for="email" >Email address: </label>
                     <input type="email" class="form-control col-lg-9" name="email" placeholder="Enter email">
                  </div>
                  <div class="form-inline col-lg-6 px-3 py-1 justify-content-between" >
                     <label for="phone" >Phone: </label>
                     <input type="text"name="phone" pattern='[0-9]{10}' class="form-control col-lg-9" placeholder="Phone">
                  </div>
                  <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                  <div class="form-inline col-lg-12 px-3 py-1 justify-content-end" >
                     <button  class="btn btn-primary col-lg-2 ml-auto">Add</button>
                  </div>
               </form>
            </div>
            <div th:if="${createUser!=null}">
                  <div class="alert-success text-center p-2" th:text="${createUserMessage}"></div>
                  <div class="row p-3 text-center">
                     <div class="col-1">ID</div>
                     <div class="col-2">Firstname</div>
                     <div class="col-2">Lastname</div>
                     <div class="col-5">Email</div>
                     <div class="col-2">Phone</div>
                  </div>
                  <div class="row p-3 text-center" >
                     <div class="col-1" th:text="${createUser.id}"></div>
                     <div class="col-2" th:text="${createUser.firstName}"></div>
                     <div class="col-2" th:text="${createUser.lastName}"></div>
                     <div class="col-5" th:text="${createUser.email}"></div>
                     <div class="col-2" th:text="${createUser.phone}"></div>   
                  </div>
               </div>
         </div>

         <!-- Updating section -->
         <div id="update" class="container-fluid mt-4">
            <div class='col-lg-12'>
               <form id="updateForm" class='col-lg-12 flex-wrap d-flex p-2' method="post">
                  <div class="form-inline col-lg-4 px-3 py-1 justify-content-between">
                     <label for="id" >ID: </label>
                     <input id='updateID' type="text" name='id' class="form-control col-lg-9" oninput="updateId()" placeholder="ID">
                  </div>
                  <div class="form-inline col-lg-4 px-3 py-1 justify-content-between">
                     <label for="firstName" >First name: </label> 
                     <input type="text" name='firstName' class="form-control col-lg-9" placeholder="First name">
                  </div>
                  <div class="form-inline col-lg-4 px-3 py-1 justify-content-between">
                     <label for="lastName" >Last name: </label>
                     <input type="text" name="lastName" class="form-control col-lg-9" placeholder="Last name">
                  </div>
                  <div class="form-inline col-lg-6 px-3 py-1 justify-content-between">
                     <label for="email" >Email address: </label>
                     <input type="email" class="form-control col-lg-9" name="email" placeholder="Enter email">
                  </div>
                  <div class="form-inline col-lg-6 px-3 py-1 justify-content-between" >
                     <label for="phone" >Phone: </label>
                     <input type="text"name="phone" pattern='[0-9]{10}' class="form-control col-lg-9" placeholder="Phone">
                  </div>
                  <!-- <input type="hidden" name="_csrf" value="getMyToken()"/> -->
                  <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                  <div class="form-inline col-lg-12 px-3 py-1 justify-content-end" >
                     <button class="btn btn-primary col-lg-2 ml-auto">Update</button>
                  </div>
               </form>
            </div>
            <div th:if="${updateUser!=null}">
               <div class="alert-success text-center p-2" th:text="${updateUserMessage}"></div>
               <div class="row p-3 text-center">
                  <div class="col-1">ID</div>
                  <div class="col-2">Firstname</div>
                  <div class="col-2">Lastname</div>
                  <div class="col-5">Email</div>
                  <div class="col-2">Phone</div>
               </div>
               <div class="row p-3 text-center" >
                  <div class="col-1" th:text="${updateUser.id}"></div>
                  <div class="col-2" th:text="${updateUser.firstName}"></div>
                  <div class="col-2" th:text="${updateUser.lastName}"></div>
                  <div class="col-5" th:text="${updateUser.email}"></div>
                  <div class="col-2" th:text="${updateUser.phone}"></div>   
               </div>
            </div>
         </div>
         
         <!-- Deleting section -->
         <div id="delete" class="container-fluid mt-4">
            <div>
               <form id="deleteForm" class="form-inline" method=POST>
                  <div class="input-group">
                     <div class="input-group-prepend">
                        <span class="input-group-text" id="basic-addon1">@</span>
                     </div>
                     <input id="deleteID" oninput="deleteId()" type="text" class="form-control" name="id" placeholder="ID" aria-label="ID" aria-describedby="basic-addon1">
                  </div>
                  <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                  <button class="btn btn-primary mb-0 search">Remove</button>
               </form>
            </div>
            <div  th:if="${deleteUser!=null}">
               <div class="alert-success text-center p-2" th:text="${deleteUserMessage}"></div>
               <div class="row p-3 text-center">
                  <div class="col-1">ID</div>
                  <div class="col-2">Firstname</div>
                  <div class="col-2">Lastname</div>
                  <div class="col-5">Email</div>
                  <div class="col-2">Phone</div>
               </div>
               <div class="row p-3 text-center">
                  <div class="col-1" th:text="${deleteUser.id}"></div>
                  <div class="col-2" th:text="${deleteUser.firstName}"></div>
                  <div class="col-2" th:text="${deleteUser.lastName}"></div>
                  <div class="col-5" th:text="${deleteUser.email}"></div>
                  <div class="col-2" th:text="${deleteUser.phone}"></div>   
               </div>
            </div>
         </div>
      </div>
   </body>
</html>